{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/phoneNumbers.js","components/message.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","handleSearch","search","onChange","value","PersonForm","handleSubmit","handleChangeName","newName","handleChangeNumber","newNumber","onSubmit","type","Person","person","handleRemove","name","number","onClick","Persons","searchResult","map","index","baseUrl","axios","get","then","response","data","post","id","delete","console","log","put","Message","message","errorOrNot","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setSearchResult","setMessage","setErrorOrNot","useEffect","phoneNumbers","res","filter","x","toLowerCase","includes","e","target","preventDefault","exists","i","length","window","confirm","setTimeout","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d309db24.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ handleSearch, search }) => {\n  return (\n    <div>\n      filter shown with <input onChange={handleSearch} value={search} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  handleSubmit,\n  handleChangeName,\n  newName,\n  handleChangeNumber,\n  newNumber,\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input onChange={handleChangeName} value={newName} />\n      </div>\n      <div>\n        number: <input onChange={handleChangeNumber} value={newNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Person = ({ person, handleRemove }) => {\n  return (\n    <div>\n      {person.name} {person.number}{\" \"}\n      <button onClick={handleRemove(person)}>remove</button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({ searchResult, handleRemove }) => {\n  return (\n    <>\n      {\" \"}\n      {searchResult.map((person, index) => {\n        return (\n          <Person person={person} key={index} handleRemove={handleRemove} />\n        );\n      })}{\" \"}\n    </>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"https://hidden-brushlands-60403.herokuapp.com/api/persons\";\n\nconst getPersons = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst addPerson = (person) => {\n  const request = axios.post(baseUrl, person);\n  return request\n    .then((response) => response.data)\n\n};\n\nconst removePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst updatePerson = (id, person) => {\n  console.log(id);\n  const request = axios.put(`${baseUrl}/${id}`, person);\n  return request.then((response) => response.data);\n};\nexport default {\n  getPersons,\n  addPerson,\n  removePerson,\n  updatePerson,\n};\n","const Message = ({ message, errorOrNot }) => {\n  if (message === null) {\n    return null;\n  } else if (errorOrNot) {\n    return <div className=\"errorMessage\">{message}</div>;\n  } else {\n    return <div className=\"message\">{message}</div>;\n  }\n};\n\nexport default Message;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport phoneNumbers from \"./services/phoneNumbers\";\nimport Message from \"./components/message\";\nimport \"./App.css\";\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [errorOrNot, setErrorOrNot] = useState(false);\n  useEffect(() => {\n    phoneNumbers.getPersons().then((res) => {\n      setPersons(res);\n    });\n  }, []);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let exists = false;\n    let id;\n    for (let i = 0; i < persons.length; i++) {\n      if (persons[i].name === newName) {\n        exists = true;\n        id = persons[i].id;\n      }\n    }\n    if (exists) {\n      const confirmReplace = window.confirm(\n        `${newName} is already added to phone book, replace the old number with the new one?`\n      );\n      if (confirmReplace) {\n        console.log(id);\n        phoneNumbers\n          .updatePerson(id, { name: newName, number: newNumber })\n          .then((x) => {\n            setMessage(`${newName} is updated to phone book`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 3000);\n          })\n          .catch((error) => {\n            console.log(error.response.data);\n            setMessage(error.response.data);\n            setErrorOrNot(true);\n            setTimeout(() => {\n              setMessage(null);\n              setErrorOrNot(false);\n            }, 3000);\n          });\n        phoneNumbers.getPersons().then((res) => {\n          setPersons(res);\n        });\n      }\n    } else {\n      phoneNumbers\n        .addPerson({ name: newName, number: newNumber })\n        .then((res) => {\n          phoneNumbers.getPersons().then((res) => {\n            setPersons(res);\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setMessage(`${newName} is added to phone book`);\n            setTimeout(() => {\n              setMessage(null);\n            }, 3000);\n          });\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n          setMessage(error.response.data);\n          setErrorOrNot(true);\n          setTimeout(() => {\n            setMessage(null);\n            setErrorOrNot(false);\n          }, 3000);\n        });\n    }\n    setSearch(\"\");\n  };\n  const handleChangeName = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleChangeNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n  useEffect(() => {\n    console.log(persons);\n    setSearchResult(\n      persons.filter((x) => {\n        return x.name.toLowerCase().includes(search.toLowerCase());\n      })\n    );\n  }, [persons, search]);\n  const handleSearch = (e) => {\n    setSearch(e.target.value);\n  };\n  const handleRemove = (person) => () => {\n    const confirmDelete = window.confirm(\n      `are you sure you want delete ${person.name}`\n    );\n\n    if (confirmDelete) {\n      console.log(person.id);\n      phoneNumbers.removePerson(person.id);\n    }\n    phoneNumbers.getPersons().then((res) => {\n      setPersons(res);\n    });\n  };\n  return (\n    <div>\n      <div>\n        <h2>Phonebook</h2>\n        <Message message={message} errorOrNot={errorOrNot} />\n        <Filter handleSearch={handleSearch} search={search} />\n        <h3>Add a new</h3>\n        <PersonForm\n          handleSubmit={handleSubmit}\n          handleChangeName={handleChangeName}\n          newName={newName}\n          handleChangeNumber={handleChangeNumber}\n          newNumber={newNumber}\n        />\n        <h3>Numbers</h3>\n        <Persons searchResult={searchResult} handleRemove={handleRemove} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}